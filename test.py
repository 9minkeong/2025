import streamlit as st
import random

st.set_page_config(page_title="💊 간단 증상별 약 추천 앱", layout="centered")

st.title("💊 간단 증상별 약 추천 앱")
st.write("⚠️ 이 앱은 **참고용**입니다. 정확한 진단은 반드시 의사와 약사에게 받으세요.")

# 증상-약 데이터베이스
medicine_dict = {
    "두통": "진통제 (예: 타이레놀, 이부프로펜)",
    "편두통": "편두통 전용 약 (예: 트립탄 계열), 일반 진통제",
    "발열": "해열제 (예: 아세트아미노펜, 이부프로펜)",
    "몸살": "해열진통제 + 충분한 휴식",
    "기침": "진해제, 거담제 (예: 덱스트로메토르판, 암브록솔)",
    "가래": "거담제 (예: 암브록솔, 브롬헥신)",
    "목아픔": "진통·소염제, 목 캔디, 가글액",
    "콧물": "항히스타민제 (예: 로라타딘, 세티리진)",
    "코막힘": "비충혈 완화제 (예: 슈도에페드린), 비강 스프레이",
    "알레르기": "항히스타민제 (예: 로라타딘, 펙소페나딘)",
    "소화불량": "소화제 (예: 베타인, 소화효소제)",
    "속쓰림": "제산제, 위산 억제제 (예: 라니티딘, 오메프라졸)",
    "복통": "진경제 (예: 부스코판), 위장약, 충분한 수분 섭취",
    "설사": "지사제 (예: 로페라마이드), 수분·전해질 보충",
    "변비": "완하제 (예: 마그네슘제제, 변비약), 식이섬유",
    "피부발진": "항히스타민제, 국소 스테로이드 연고",
    "벌레물림": "항히스타민 연고, 가려움 완화제",
    "상처": "소독약 (예: 포비돈 요오드), 항생제 연고, 밴드",
    "근육통": "진통·소염제 (예: 이부프로펜, 나프록센), 파스"
}

# 증상 체크박스 생성
st.subheader("🤒 증상을 선택하세요:")
selected_symptoms = []
for symptom in medicine_dict.keys():
    if st.checkbox(symptom):
        selected_symptoms.append(symptom)

# 결과 출력
if selected_symptoms:
    st.subheader("💊 추천 약")
    for s in selected_symptoms:
        rec = medicine_dict[s]
        st.success(f"👉 {s}에는 보통 {rec} 가(이) 쓰입니다.  {random.choice(['💊','💊💊','💊✨'])}")
else:
    st.info("증상을 선택하면 추천 약이 표시됩니다.")
